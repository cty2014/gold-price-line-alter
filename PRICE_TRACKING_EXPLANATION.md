# åƒ¹æ ¼è¿½è¹¤é‚è¼¯èªªæ˜Ž

## ðŸ“Š ç•¶å‰åƒ¹æ ¼ vs ç•¶æ—¥æœ€é«˜/æœ€ä½Žåƒ¹

### å•é¡Œæè¿°
ç”¨æˆ¶åæ˜ ï¼šç•¶å‰åƒ¹æ ¼ç¸½æ˜¯ç­‰æ–¼ç•¶å¤©æœ€é«˜å’Œæœ€ä½Žã€‚

### åŽŸå› åˆ†æž

#### 1. API è¿”å›žçš„æ•¸æ“š
- **CoinGecko API** å’Œ **å¹£å®‰ API** éƒ½åªæä¾›**ç•¶å‰åƒ¹æ ¼**
- API è¿”å›žçš„ `day_high` å’Œ `day_low` éƒ½æ˜¯ç•¶å‰åƒ¹æ ¼ï¼ˆå› ç‚º API æ²’æœ‰æä¾›æ­·å²æ•¸æ“šï¼‰
- é€™æ˜¯æ­£å¸¸çš„ï¼Œå› ç‚ºé€™äº› API ä¸æä¾›ç•¶æ—¥çš„æœ€é«˜/æœ€ä½Žåƒ¹æ•¸æ“š

#### 2. è¿½è¹¤é‚è¼¯
- ç¨‹åºä½¿ç”¨ `tracked_day_high` å’Œ `tracked_day_low` ä¾†è¿½è¹¤ç•¶æ—¥çš„æœ€é«˜/æœ€ä½Žåƒ¹
- é€™äº›æ•¸æ“šä¿å­˜åœ¨ `daily_price.json` æ–‡ä»¶ä¸­
- æ¯æ¬¡åŸ·è¡Œæ™‚ï¼š
  1. è®€å– `daily_price.json` ä¸­çš„æ­·å²æœ€é«˜/æœ€ä½Žåƒ¹
  2. æ¯”è¼ƒç•¶å‰åƒ¹æ ¼èˆ‡æ­·å²è¨˜éŒ„
  3. å¦‚æžœç•¶å‰åƒ¹æ ¼æ›´é«˜/æ›´ä½Žï¼Œæ›´æ–°è¨˜éŒ„
  4. ä¿å­˜æ›´æ–°å¾Œçš„è¨˜éŒ„

#### 3. ç‚ºä»€éº¼æœƒå‡ºç¾ã€Œç•¶å‰åƒ¹æ ¼ = æœ€é«˜ = æœ€ä½Žã€ï¼Ÿ

**æƒ…æ³ 1: é¦–æ¬¡åŸ·è¡Œ**
- å¦‚æžœé€™æ˜¯ç•¶å¤©ç¬¬ä¸€æ¬¡åŸ·è¡Œï¼Œæœ€é«˜å’Œæœ€ä½Žéƒ½æœƒè¢«è¨­ç‚ºç•¶å‰åƒ¹æ ¼
- é€™æ˜¯æ­£å¸¸çš„è¡Œç‚º

**æƒ…æ³ 2: åƒ¹æ ¼æ²’æœ‰è®ŠåŒ–**
- å¦‚æžœç•¶å¤©æ‰€æœ‰åŸ·è¡Œæ™‚çš„åƒ¹æ ¼éƒ½ç›¸åŒï¼Œæœ€é«˜å’Œæœ€ä½Žç•¶ç„¶æœƒç›¸åŒ
- ä¾‹å¦‚ï¼šå¦‚æžœé»ƒé‡‘åƒ¹æ ¼ä¸€ç›´ç¶­æŒåœ¨ $4358.81ï¼Œé‚£éº¼æœ€é«˜å’Œæœ€ä½Žéƒ½æ˜¯ $4358.81

**æƒ…æ³ 3: åƒ¹æ ¼è®ŠåŒ–å¾ˆå°**
- å¦‚æžœåƒ¹æ ¼è®ŠåŒ–å¹…åº¦å¾ˆå°ï¼ˆä¾‹å¦‚ $4358.81 â†’ $4358.82ï¼‰ï¼Œåœ¨é¡¯ç¤ºæ™‚å¯èƒ½çœ‹èµ·ä¾†ç›¸åŒ
- ä½†å¯¦éš›ä¸Šè¿½è¹¤é‚è¼¯æ˜¯æ­£ç¢ºçš„

## âœ… è¿½è¹¤é‚è¼¯é©—è­‰

### ä»£ç¢¼é‚è¼¯ï¼ˆmain.pyï¼‰

```python
# 1. è®€å–æ­·å²è¨˜éŒ„
if os.path.exists(daily_price_file):
    daily_data = json.load(f)
    if daily_data.get('date') == current_date:
        tracked_day_high = daily_data.get('day_high')
        tracked_day_low = daily_data.get('day_low')

# 2. æ›´æ–°æœ€é«˜åƒ¹
if tracked_day_high is None or current_price > tracked_day_high:
    tracked_day_high = current_price

# 3. æ›´æ–°æœ€ä½Žåƒ¹
if tracked_day_low is None or current_price < tracked_day_low:
    tracked_day_low = current_price

# 4. ä¿å­˜è¨˜éŒ„
daily_data_to_save = {
    'date': current_date,
    'day_high': tracked_day_high,
    'day_low': tracked_day_low,
    'last_update': taiwan_time.strftime('%Y-%m-%d %H:%M:%S')
}
```

### æ¸¬è©¦çµæžœ
- âœ… è¿½è¹¤é‚è¼¯æ­£ç¢º
- âœ… èƒ½å¤ æ­£ç¢ºæ›´æ–°æœ€é«˜/æœ€ä½Žåƒ¹
- âœ… èƒ½å¤ æ­£ç¢ºä¿å­˜å’Œè®€å–è¨˜éŒ„

## ðŸ” å¦‚ä½•ç¢ºèªè¿½è¹¤æ˜¯å¦æ­£å¸¸

### æ–¹æ³• 1: æª¢æŸ¥ daily_price.json
```bash
cat daily_price.json
```

æ‡‰è©²çœ‹åˆ°ï¼š
```json
{
  "date": "2026-01-03",
  "day_high": 4365.00,  # ç•¶æ—¥æœ€é«˜åƒ¹
  "day_low": 4350.00,   # ç•¶æ—¥æœ€ä½Žåƒ¹
  "last_update": "2026-01-03 16:44:37"
}
```

### æ–¹æ³• 2: è§€å¯Ÿå¤šæ¬¡åŸ·è¡Œ
- å¦‚æžœåƒ¹æ ¼æœ‰è®ŠåŒ–ï¼Œæœ€é«˜/æœ€ä½Žåƒ¹æ‡‰è©²æœƒæ›´æ–°
- å¦‚æžœåƒ¹æ ¼ä¸€ç›´ç›¸åŒï¼Œæœ€é«˜/æœ€ä½Žåƒ¹ç•¶ç„¶æœƒç›¸åŒ

### æ–¹æ³• 3: æŸ¥çœ‹åŸ·è¡Œæ—¥èªŒ
åœ¨ GitHub Actions æ—¥èªŒä¸­æ‡‰è©²çœ‹åˆ°ï¼š
```
âœ“ è®€å–ç•¶æ—¥åƒ¹æ ¼è¨˜éŒ„: æœ€é«˜ $4365.00, æœ€ä½Ž $4350.00
âœ“ å·²æ›´æ–°ç•¶æ—¥åƒ¹æ ¼è¨˜éŒ„: æœ€é«˜ $4365.00, æœ€ä½Ž $4350.00
```

## ðŸ“ æ³¨æ„äº‹é …

1. **API é™åˆ¶**:
   - ä½¿ç”¨çš„ APIï¼ˆCoinGeckoã€å¹£å®‰ï¼‰ä¸æä¾›ç•¶æ—¥çš„æœ€é«˜/æœ€ä½Žåƒ¹æ•¸æ“š
   - åªèƒ½é€šéŽè¿½è¹¤æ¯æ¬¡åŸ·è¡Œçš„åƒ¹æ ¼ä¾†è¨ˆç®—

2. **åŸ·è¡Œé »çŽ‡**:
   - ç›®å‰æ¯10åˆ†é˜åŸ·è¡Œä¸€æ¬¡
   - å¦‚æžœåƒ¹æ ¼åœ¨å…©æ¬¡åŸ·è¡Œä¹‹é–“è®ŠåŒ–ï¼Œå¯èƒ½æœƒéŒ¯éŽçœŸæ­£çš„æœ€é«˜/æœ€ä½Žåƒ¹
   - ä½†é€™æ˜¯åœ¨ API é™åˆ¶ä¸‹çš„æœ€ä½³æ–¹æ¡ˆ

3. **æ•¸æ“šæº–ç¢ºæ€§**:
   - è¿½è¹¤çš„æœ€é«˜/æœ€ä½Žåƒ¹æ˜¯**åŸ·è¡Œæ™‚é–“é»žçš„åƒ¹æ ¼**
   - ä¸æ˜¯çœŸæ­£çš„ç•¶æ—¥æœ€é«˜/æœ€ä½Žåƒ¹ï¼ˆéœ€è¦æ›´é »ç¹çš„åŸ·è¡Œæˆ–æ›´å¥½çš„ APIï¼‰

## ðŸš€ æ”¹é€²å»ºè­°

å¦‚æžœå¸Œæœ›ç²å¾—æ›´æº–ç¢ºçš„ç•¶æ—¥æœ€é«˜/æœ€ä½Žåƒ¹ï¼Œå¯ä»¥è€ƒæ…®ï¼š

1. **ä½¿ç”¨ä»˜è²» API**:
   - ä½¿ç”¨æä¾›æ­·å²æ•¸æ“šçš„ä»˜è²» API
   - ä¾‹å¦‚ï¼šAlpha Vantageã€Yahoo Finance API

2. **å¢žåŠ åŸ·è¡Œé »çŽ‡**:
   - å°‡åŸ·è¡Œé »çŽ‡å¾žæ¯10åˆ†é˜æ”¹ç‚ºæ¯5åˆ†é˜æˆ–æ¯1åˆ†é˜
   - é€™æ¨£å¯ä»¥æ›´æº–ç¢ºåœ°æ•æ‰åƒ¹æ ¼è®ŠåŒ–

3. **ä½¿ç”¨ WebSocket**:
   - ä½¿ç”¨ WebSocket å³æ™‚ç›£è½åƒ¹æ ¼è®ŠåŒ–
   - é€™æ¨£å¯ä»¥æ•æ‰åˆ°æ‰€æœ‰åƒ¹æ ¼è®ŠåŒ–

## âœ… çµè«–

**ç•¶å‰è¨­å®šæ˜¯æ­£ç¢ºçš„**ï¼š
- âœ… è¿½è¹¤é‚è¼¯æ­£ç¢º
- âœ… èƒ½å¤ æ­£ç¢ºæ›´æ–°æœ€é«˜/æœ€ä½Žåƒ¹
- âœ… èƒ½å¤ æ­£ç¢ºä¿å­˜å’Œè®€å–è¨˜éŒ„

**å¦‚æžœã€Œç•¶å‰åƒ¹æ ¼ = æœ€é«˜ = æœ€ä½Žã€**ï¼š
- å¯èƒ½æ˜¯é¦–æ¬¡åŸ·è¡Œï¼ˆæ­£å¸¸ï¼‰
- å¯èƒ½æ˜¯åƒ¹æ ¼çœŸçš„æ²’æœ‰è®ŠåŒ–ï¼ˆæ­£å¸¸ï¼‰
- å¯èƒ½æ˜¯åƒ¹æ ¼è®ŠåŒ–å¾ˆå°ï¼ˆæ­£å¸¸ï¼‰

**å»ºè­°**ï¼š
- è§€å¯Ÿå¤šæ¬¡åŸ·è¡Œå¾Œçš„çµæžœ
- æª¢æŸ¥ `daily_price.json` æ–‡ä»¶
- å¦‚æžœåƒ¹æ ¼æœ‰æ˜Žé¡¯è®ŠåŒ–ï¼Œæœ€é«˜/æœ€ä½Žåƒ¹æ‡‰è©²æœƒæ›´æ–°

